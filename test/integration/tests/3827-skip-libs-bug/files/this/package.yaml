name:                this
version:             0.1.0.0

dependencies:
- base >= 4.7 && < 5

flags:
  library:
    description: The library compiles
    default: false
    manual: true
  executable:
    description: The executable compiles
    default: false
    manual: true
  tests:
    description: The tests compile
    default: false
    manual: true

library:
  source-dirs: src
  when:
  - condition: '!flag(library)'
    buildable: false

executables:
  this-exe:
    main:                Main.hs
    source-dirs:         app
    ghc-options:
    - -threaded
    - -rtsopts
    - -with-rtsopts=-N
    dependencies:
    - this
    when:
    - condition: '!flag(executable)'
      buildable: false

tests:
  this-test:
    main:                Spec.hs
    source-dirs:         test
    ghc-options:
    - -threaded
    - -rtsopts
    - -with-rtsopts=-N
    dependencies:
    - this
    when:
    - condition: '!flag(tests)'
      buildable: false
